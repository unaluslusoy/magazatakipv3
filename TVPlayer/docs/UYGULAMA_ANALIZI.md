# ğŸ“º MagazaTV Player - Uygulama Analizi ve AkÄ±ÅŸ DiyagramÄ±

## ğŸ“‹ Ä°Ã§indekiler

1. [Mimari Genel BakÄ±ÅŸ](#-mimari-genel-bakÄ±ÅŸ)
2. [Uygulama BaÅŸlangÄ±Ã§ AkÄ±ÅŸÄ±](#-uygulama-baÅŸlangÄ±Ã§-akÄ±ÅŸÄ±)
3. [GiriÅŸ (Login) AkÄ±ÅŸÄ±](#-giriÅŸ-login-akÄ±ÅŸÄ±)
4. [Senkronizasyon AkÄ±ÅŸÄ±](#-senkronizasyon-sync-akÄ±ÅŸÄ±)
5. [WebSocket AkÄ±ÅŸÄ±](#-websocket-gerÃ§ek-zamanlÄ±-akÄ±ÅŸÄ±)
6. [Player AkÄ±ÅŸÄ±](#-player-oynatma-akÄ±ÅŸÄ±)
7. [Veri AkÄ±ÅŸÄ± (Storage)](#-veri-akÄ±ÅŸÄ±-storage)
8. [Dosya YapÄ±sÄ±](#ï¸-dosya-yapÄ±sÄ±)
9. [API Endpoints](#-api-endpoints)

---

## ğŸ—ï¸ Mimari Genel BakÄ±ÅŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ“º MagazaTV Player                                    â”‚
â”‚                    React Native TV/Tablet UygulamasÄ±                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Permission â”‚ â”€â”€â–º â”‚   Login     â”‚ â”€â”€â–º â”‚   Player    â”‚ â—„â”€â–º â”‚  Settings    â”‚  â”‚
â”‚  â”‚   Screen    â”‚     â”‚   Screen    â”‚     â”‚   Screen    â”‚     â”‚   Screen     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â–²                    â”‚                   â”‚                              â”‚
â”‚        â”‚                    â–¼                   â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         SERVICES LAYER                                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ApiService  â”‚StorageServiceâ”‚SyncManager â”‚SocketServiceâ”‚ScheduleManager  â”‚   â”‚
â”‚  â”‚  (Axios)    â”‚(AsyncStorage)â”‚ (Auto Sync)â”‚ (Socket.IO) â”‚  (Playlist)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚             â”‚             â”‚             â”‚               â”‚            â”‚
â”‚         â–¼             â–¼             â–¼             â–¼               â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      DownloadManager (Medya Ä°ndirme)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚                                          â”‚
â”‚                                     â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                 Backend API: https://mtapi.magazatakip.com.tr           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Teknoloji Stack

| Katman | Teknoloji |
|--------|-----------|
| **Framework** | React Native 0.73.2 |
| **Dil** | TypeScript |
| **HTTP Client** | Axios |
| **WebSocket** | Socket.IO Client |
| **Storage** | AsyncStorage |
| **Navigation** | React Navigation (Stack) |
| **Video Player** | React Native Video |
| **Platform** | Android (SDK 35) |

---

## ğŸ”„ Uygulama BaÅŸlangÄ±Ã§ AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              APP BAÅLANGIÃ‡ AKIÅI                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Uygulama AÃ§Ä±lÄ±r â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  App.tsx YÃ¼klenir â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ AppInitializer        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ DownloadManager init  â”‚
               â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HayÄ±r
     â”‚ Ä°zinler VerilmiÅŸ? â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
               â”‚ Evet                                 â–¼
               â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                        â”‚   PermissionScreen    â”‚
               â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
               â”‚                        â”‚ â€¢ WRITE_EXTERNAL_STORAGE
               â”‚                        â”‚ â€¢ CAMERA               â”‚
               â”‚                        â”‚ â€¢ RECORD_AUDIO         â”‚
               â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                    â”‚
               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚NavigationContainerâ”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HayÄ±r   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   GiriÅŸ YapÄ±lmÄ±ÅŸ? â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   LoginScreen     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Evet
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   PlayerScreen    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BaÅŸlangÄ±Ã§ SÄ±rasÄ±

1. **App.tsx** mount edilir
2. **AppInitializer** DownloadManager'Ä± baÅŸlatÄ±r
3. **Ä°zin kontrolÃ¼** yapÄ±lÄ±r (Android permissions)
4. Ä°zinler yoksa **PermissionScreen** gÃ¶sterilir
5. **NavigationContainer** yÃ¼klenir
6. **StorageService.isLoggedIn()** kontrol edilir
7. GiriÅŸ yapÄ±lmÄ±ÅŸsa **PlayerScreen**, yoksa **LoginScreen** gÃ¶sterilir

---

## ğŸ” GiriÅŸ (Login) AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              LOGIN AKIÅI                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   LoginScreen     â”‚
     â”‚  ğŸ“º MagazaTV      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Cihaz Kodu Gir   â”‚  (6 haneli kod)
     â”‚  [______]         â”‚
     â”‚                   â”‚
     â”‚  [GÄ°RÄ°Å YAP]      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         POST /auth/device-login
     â”‚  ApiService.      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  login(code)      â”‚                                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â–¼
               â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                              â”‚    Backend API    â”‚
               â”‚                              â”‚  Token + Device   â”‚
               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    Bilgisi        â”‚
               â–¼                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  StorageService.  â”‚
     â”‚  saveAuthToken()  â”‚  â†’ AsyncStorage'a kaydet
     â”‚  saveDeviceInfo() â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â–¼                  â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  SyncManager.     â”‚ â”‚  SocketService.   â”‚
     â”‚  startAutoSync()  â”‚ â”‚  connect()        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                     â”‚
               â–¼                     â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Playlist/Ä°Ã§erik  â”‚ â”‚  GerÃ§ek ZamanlÄ±   â”‚
     â”‚  Senkronizasyonu  â”‚ â”‚  BaÄŸlantÄ± Kuruldu â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  navigate('Player')â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Login Ä°ÅŸlem AdÄ±mlarÄ±

1. KullanÄ±cÄ± 6 haneli **cihaz kodunu** girer
2. **ApiService.login()** backend'e POST isteÄŸi gÃ¶nderir
3. Backend token ve cihaz bilgisi dÃ¶ner
4. **StorageService** ile AsyncStorage'a kaydedilir
5. **SyncManager** otomatik senkronizasyonu baÅŸlatÄ±r
6. **SocketService** WebSocket baÄŸlantÄ±sÄ± kurar
7. **PlayerScreen**'e yÃ¶nlendirilir

---

## ğŸ” Senkronizasyon (Sync) AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SYNC MANAGER AKIÅI                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  SyncManager.     â”‚
     â”‚  startAutoSync()  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   setInterval()   â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€ SYNC_CONFIG.INTERVAL (5 dk)
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   â”‚
     â”‚    sync() Ã‡aÄŸrÄ±   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   â”‚                  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
               â”‚                            â”‚
               â–¼                            â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HayÄ±r         â”‚
     â”‚  Zaten Sync mi?   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
               â”‚ HayÄ±r                      â”‚
               â–¼                            â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HayÄ±r         â”‚
     â”‚  healthCheck()    â”‚â”€â”€â–º Offline Mod â”€â”€â”˜
     â”‚  Sunucu EriÅŸimi?  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Evet
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   sendHeartbeat() â”‚  â†’ Cihaz durumu bildir
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â–¼                 â–¼               â–¼
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  â”‚getPlaylistsâ”‚   â”‚getContentsâ”‚    â”‚getSchedulesâ”‚
     â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚        â”‚                â”‚                â”‚
     â”‚        â–¼                â–¼                â–¼
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  â”‚  save     â”‚    â”‚  save     â”‚    â”‚  save     â”‚
     â”‚  â”‚ Playlists â”‚    â”‚ Contents  â”‚    â”‚ Schedules â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚              â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  DownloadManager.     â”‚
              â”‚downloadPlaylistContentsâ”‚
              â”‚   (Medya dosyalarÄ±)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ processOfflineQueue() â”‚
              â”‚  (Bekleyen iÅŸlemler)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  saveSyncStatus()     â”‚
              â”‚  last_sync_at = NOW   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sync SÃ¼reci

| AdÄ±m | Ä°ÅŸlem | AÃ§Ä±klama |
|------|-------|----------|
| 1 | `startAutoSync()` | 5 dakikalÄ±k interval baÅŸlatÄ±r |
| 2 | `healthCheck()` | Sunucu eriÅŸilebilirliÄŸi kontrol |
| 3 | `sendHeartbeat()` | Cihaz durumu bildirir |
| 4 | `getPlaylists()` | Playlist listesi Ã§eker |
| 5 | `getContents()` | Ä°Ã§erik listesi Ã§eker |
| 6 | `getSchedules()` | Zamanlama listesi Ã§eker |
| 7 | `downloadPlaylistContents()` | Yeni medyalarÄ± indirir |
| 8 | `processOfflineQueue()` | Bekleyen iÅŸlemleri gÃ¶nderir |
| 9 | `saveSyncStatus()` | Sync durumu kaydeder |

---

## ğŸ“¡ WebSocket (GerÃ§ek ZamanlÄ±) AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SOCKET SERVICE AKIÅI                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  SocketService.   â”‚
     â”‚    connect()      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Socket.IO        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–º wss://mtapi.magazatakip.com.tr
     â”‚  BaÄŸlantÄ± Kur     â”‚          auth: { token }
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              EVENT LISTENERS                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                               â”‚
     â”‚  'connect'        â†’ BaÄŸlantÄ± baÅŸarÄ±lÄ± log     â”‚
     â”‚  'disconnect'     â†’ BaÄŸlantÄ± kesildi log      â”‚
     â”‚  'connect_error'  â†’ Hata log, retry++         â”‚
     â”‚                                               â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
     â”‚  â”‚  ADMIN PANEL KOMUTLARI                  â”‚  â”‚
     â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
     â”‚  â”‚                                         â”‚  â”‚
     â”‚  â”‚  'sync'             â”€â”€â”€â”€â–º SyncManager.sync()
     â”‚  â”‚  'playlist:updated' â”€â”€â”€â”€â–º SyncManager.sync()
     â”‚  â”‚  'content:updated'  â”€â”€â”€â”€â–º SyncManager.sync()
     â”‚  â”‚  'schedule:updated' â”€â”€â”€â”€â–º SyncManager.sync()
     â”‚  â”‚  'reload'           â”€â”€â”€â”€â–º Uygulama Yeniden YÃ¼kle
     â”‚  â”‚                                         â”‚  â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
     â”‚                                               â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### WebSocket OlaylarÄ±

| Event | Tetikleyen | Ä°ÅŸlem |
|-------|------------|-------|
| `connect` | BaÄŸlantÄ± kurulduÄŸunda | Log yaz, reconnect sÄ±fÄ±rla |
| `disconnect` | BaÄŸlantÄ± kesildiÄŸinde | Log yaz |
| `sync` | Admin panel | Tam senkronizasyon baÅŸlat |
| `playlist:updated` | Playlist deÄŸiÅŸtiÄŸinde | Senkronizasyon baÅŸlat |
| `content:updated` | Ä°Ã§erik deÄŸiÅŸtiÄŸinde | Senkronizasyon baÅŸlat |
| `schedule:updated` | Zamanlama deÄŸiÅŸtiÄŸinde | Senkronizasyon baÅŸlat |
| `reload` | Uzaktan yenile komutu | Uygulama yeniden baÅŸlat |

---

## ğŸ¬ Player (Oynatma) AkÄ±ÅŸÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            PLAYER SCREEN AKIÅI                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   PlayerScreen    â”‚
     â”‚   componentMount  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  loadPlaylist()   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ScheduleManager.  â”‚
     â”‚getCurrentPlaylist()â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â–º ZamanÄ± kontrol et (gÃ¼n + saat)
               â”œâ”€â”€â–º Aktif schedule'larÄ± filtrele
               â”œâ”€â”€â–º Priority'ye gÃ¶re sÄ±rala
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HayÄ±r    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Playlist bulundu? â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  VarsayÄ±lan       â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  playlist gÃ¶ster  â”‚
               â”‚ Evet                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   setPlaylist()   â”‚
     â”‚   setCurrentIndex â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   OYNATMA DÃ–NGÃœSÃœ                       â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                                         â”‚
     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
     â”‚     â”‚         Content Type KontrolÃ¼               â”‚    â”‚
     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
     â”‚                      â”‚                                  â”‚
     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
     â”‚     â–¼                â–¼                â–¼                 â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
     â”‚  â”‚ Video â”‚      â”‚ Image â”‚       â”‚ Template  â”‚           â”‚
     â”‚  â”‚ .mp4  â”‚      â”‚ .jpg  â”‚       â”‚ HTML      â”‚           â”‚
     â”‚  â”‚ .webm â”‚      â”‚ .png  â”‚       â”‚ WebView   â”‚           â”‚
     â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜      â””â”€â”€â”€â”¬â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
     â”‚      â”‚              â”‚                 â”‚                 â”‚
     â”‚      â–¼              â–¼                 â–¼                 â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
     â”‚  â”‚<Video â”‚     â”‚<Image  â”‚        â”‚<WebView  â”‚           â”‚
     â”‚  â”‚Player>â”‚     â”‚Gallery>â”‚        â”‚Content>  â”‚           â”‚
     â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
     â”‚      â”‚             â”‚                  â”‚                 â”‚
     â”‚      â–¼             â–¼                  â–¼                 â”‚
     â”‚  onEnd()       setTimeout()       onLoad()              â”‚
     â”‚      â”‚        (content.duration)      â”‚                 â”‚
     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
     â”‚                    â”‚                                    â”‚
     â”‚                    â–¼                                    â”‚
     â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
     â”‚           â”‚   playNext()   â”‚                            â”‚
     â”‚           â”‚currentIndex++ %â”‚                            â”‚
     â”‚           â”‚ playlist.lengthâ”‚                            â”‚
     â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
     â”‚                    â”‚                                    â”‚
     â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º DÃ¶ngÃ¼ â”€â”€â”€â”€â”€â–º  â”‚
     â”‚                                                         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚  Her 1 dakikada bir:
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚checkScheduleChangeâ”‚  â†’ Schedule deÄŸiÅŸtiyse yeni playlist yÃ¼kle
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Desteklenen Ä°Ã§erik TÃ¼rleri

| TÃ¼r | UzantÄ±lar | OynatÄ±cÄ± | SÃ¼re KontrolÃ¼ |
|-----|-----------|----------|---------------|
| **Video** | .mp4, .webm, .mov | React Native Video | `onEnd` event |
| **Image** | .jpg, .png, .gif | Image component | `setTimeout` (duration) |
| **Template** | HTML | WebView | `onLoad` + duration |

### Schedule MantÄ±ÄŸÄ±

1. TÃ¼m aktif schedule'lar Ã§ekilir
2. GÃ¼nÃ¼n adÄ± kontrol edilir (monday, tuesday, ...)
3. Saat aralÄ±ÄŸÄ± kontrol edilir (start_time - end_time)
4. Priority'ye gÃ¶re sÄ±ralanÄ±r (yÃ¼ksek Ã¶ncelikli ilk)
5. Ä°lk eÅŸleÅŸen schedule'Ä±n playlist'i dÃ¶ner

---

## ğŸ’¾ Veri AkÄ±ÅŸÄ± (Storage)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STORAGE SERVICE - VERÄ° AKIÅI                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          AsyncStorage               â”‚
                    â”‚       (KalÄ±cÄ± Yerel Depo)           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â–¼             â–¼             â–¼    â–¼         â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AUTH   â”‚ â”‚  DEVICE   â”‚ â”‚PLAYLISTS â”‚ â”‚CONTENTS â”‚ â”‚SCHEDULES â”‚ â”‚SYNC_STATUSâ”‚
â”‚  TOKEN  â”‚ â”‚   INFO    â”‚ â”‚   []     â”‚ â”‚   []    â”‚ â”‚   []     â”‚ â”‚  Object   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ token  â”‚ â”‚â€¢ id       â”‚ â”‚â€¢ id      â”‚ â”‚â€¢ id     â”‚ â”‚â€¢ id      â”‚ â”‚â€¢ last_syncâ”‚
â”‚â€¢ expiresâ”‚ â”‚â€¢ code     â”‚ â”‚â€¢ name    â”‚ â”‚â€¢ name   â”‚ â”‚â€¢ playlistâ”‚ â”‚â€¢ is_sync  â”‚
â”‚â€¢ refreshâ”‚ â”‚â€¢ store_id â”‚ â”‚â€¢ contentsâ”‚ â”‚â€¢ type   â”‚ â”‚â€¢ start   â”‚ â”‚â€¢ counts   â”‚
â”‚         â”‚ â”‚â€¢ status   â”‚ â”‚â€¢ settingsâ”‚ â”‚â€¢ url    â”‚ â”‚â€¢ end     â”‚ â”‚â€¢ pending  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â€¢ local  â”‚ â”‚â€¢ days    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â€¢ priorityâ”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Storage Keys

| Key | Tip | AÃ§Ä±klama |
|-----|-----|----------|
| `@auth_token` | Object | JWT token ve expiry bilgisi |
| `@device_info` | Object | Cihaz ID, kod, maÄŸaza bilgisi |
| `@playlists` | Array | Playlist listesi (iÃ§eriklerle) |
| `@contents` | Array | TÃ¼m iÃ§erik listesi |
| `@schedules` | Array | Zamanlama listesi |
| `@sync_status` | Object | Son sync zamanÄ± ve sayÄ±lar |
| `@offline_queue` | Array | Ã‡evrimdÄ±ÅŸÄ± bekleyen iÅŸlemler |

### Offline Modu

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      OFFLINE Ã‡ALIÅMA                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Ä°nternet VAR                    Ä°nternet YOK                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚       â”‚                               â”‚                       â”‚
â”‚       â–¼                               â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ API'den â”‚                    â”‚ AsyncStorageâ”‚               â”‚
â”‚  â”‚   Ã§ek   â”‚                    â”‚    kullan   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                                â”‚                      â”‚
â”‚       â–¼                                â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Storage'a   â”‚                â”‚ Cached data â”‚               â”‚
â”‚  â”‚   kaydet    â”‚                â”‚   gÃ¶ster    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Dosya YapÄ±sÄ±

```
TVPlayer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx                    # Ana uygulama + Navigation
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ constants.ts           # API URL, Ayarlar
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ PermissionScreen.tsx   # Ä°zin isteme ekranÄ±
â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx        # Cihaz kodu ile giriÅŸ
â”‚   â”‚   â”œâ”€â”€ PlayerScreen.tsx       # Video/Resim oynatÄ±cÄ±
â”‚   â”‚   â””â”€â”€ SettingsScreen.tsx     # Ayarlar & Ã‡Ä±kÄ±ÅŸ
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ApiService.ts          # HTTP istekleri (Axios)
â”‚   â”‚   â”œâ”€â”€ StorageService.ts      # AsyncStorage yÃ¶netimi
â”‚   â”‚   â”œâ”€â”€ SyncManager.ts         # Otomatik senkronizasyon
â”‚   â”‚   â”œâ”€â”€ SocketService.ts       # WebSocket baÄŸlantÄ±sÄ±
â”‚   â”‚   â”œâ”€â”€ ScheduleManager.ts     # Zamanlama yÃ¶netimi
â”‚   â”‚   â”œâ”€â”€ DownloadManager.ts     # Medya indirme
â”‚   â”‚   â””â”€â”€ Logger.ts              # Loglama
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts               # TypeScript tipleri
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ helpers.ts             # YardÄ±mcÄ± fonksiyonlar
â”‚
â”œâ”€â”€ android/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ build.gradle           # Uygulama yapÄ±landÄ±rmasÄ±
â”‚   â”‚   â””â”€â”€ src/main/
â”‚   â”‚       â”œâ”€â”€ AndroidManifest.xml
â”‚   â”‚       â””â”€â”€ java/.../
â”‚   â”‚           â””â”€â”€ MainApplication.kt
â”‚   â”œâ”€â”€ build.gradle               # Proje yapÄ±landÄ±rmasÄ±
â”‚   â””â”€â”€ settings.gradle            # Gradle ayarlarÄ±
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ UYGULAMA_ANALIZI.md        # Bu dosya
â”‚
â”œâ”€â”€ package.json                   # NPM baÄŸÄ±mlÄ±lÄ±klarÄ±
â”œâ”€â”€ tsconfig.json                  # TypeScript ayarlarÄ±
â”œâ”€â”€ babel.config.js                # Babel ayarlarÄ±
â””â”€â”€ metro.config.js                # Metro bundler ayarlarÄ±
```

---

## ğŸ“Š API Endpoints

### Base URL
```
https://mtapi.magazatakip.com.tr/api
```

### Authentication

| Endpoint | Method | Body | Response |
|----------|--------|------|----------|
| `/auth/device-login` | POST | `{ device_code: string }` | `{ token, device, expires_at }` |
| `/auth/logout` | POST | - | `{ success: true }` |
| `/health` | GET | - | `{ status: 'ok' }` |

### Device

| Endpoint | Method | Body | Response |
|----------|--------|------|----------|
| `/devices/heartbeat` | POST | `{ status, timestamp }` | `{ success: true }` |

### Content

| Endpoint | Method | Params | Response |
|----------|--------|--------|----------|
| `/playlists` | GET | - | `Playlist[]` |
| `/contents` | GET | - | `Content[]` |
| `/schedules/active` | GET | - | `Schedule[]` |

### Headers

```javascript
{
  'Content-Type': 'application/json',
  'Authorization': 'Bearer <token>',
  'User-Agent': 'MagazaTV-Player/1.0.0 (Android; Tablet)'
}
```

---

## ğŸ”§ KonfigÃ¼rasyon

### constants.ts

```typescript
export const API_CONFIG = {
  BASE_URL: 'https://mtapi.magazatakip.com.tr/api',
  SOCKET_URL: 'https://mtapi.magazatakip.com.tr',
  TIMEOUT: 30000,
};

export const SYNC_CONFIG = {
  INTERVAL: 5 * 60 * 1000,  // 5 dakika
  RETRY_DELAY: 30000,        // 30 saniye
  MAX_RETRIES: 3,
};

export const CACHE_CONFIG = {
  MAX_STORAGE_MB: 500,
  CLEANUP_THRESHOLD: 0.9,
};

export const STORAGE_KEYS = {
  AUTH_TOKEN: '@auth_token',
  DEVICE_INFO: '@device_info',
  PLAYLISTS: '@playlists',
  CONTENTS: '@contents',
  SCHEDULES: '@schedules',
  SYNC_STATUS: '@sync_status',
  OFFLINE_QUEUE: '@offline_queue',
};
```

---

## ğŸ“± Cihaz Gereksinimleri

| Ã–zellik | Minimum | Ã–nerilen |
|---------|---------|----------|
| **Android SÃ¼rÃ¼mÃ¼** | 7.0 (API 24) | 10+ (API 29+) |
| **RAM** | 2 GB | 4 GB |
| **Depolama** | 500 MB | 2 GB+ |
| **Ekran** | 7" | 10"+ |
| **AÄŸ** | WiFi | WiFi 5+ |

---

## ğŸ¯ Ã–zellik Ã–zeti

- âœ… **Cihaz Kodu ile GiriÅŸ** - Admin panelden oluÅŸturulan kodla kayÄ±t
- âœ… **Otomatik Senkronizasyon** - 5 dakikada bir iÃ§erik gÃ¼ncelleme
- âœ… **GerÃ§ek ZamanlÄ± GÃ¼ncelleme** - WebSocket ile anÄ±nda deÄŸiÅŸiklik
- âœ… **Offline Ã‡alÄ±ÅŸma** - Ä°nternet kesilse bile son iÃ§erikleri oynat
- âœ… **Zamanlama DesteÄŸi** - GÃ¼n ve saate gÃ¶re farklÄ± playlist
- âœ… **Ã‡oklu Ä°Ã§erik TÃ¼rÃ¼** - Video, resim ve HTML ÅŸablon
- âœ… **Otomatik Ä°ndirme** - Yeni iÃ§erikler arka planda indirilir
- âœ… **Tam Ekran Modu** - Dikey veya yatay tam ekran gÃ¶rÃ¼ntÃ¼
- âœ… **Heartbeat** - Cihaz durumu sÃ¼rekli takip

---

*Son GÃ¼ncelleme: AralÄ±k 2025*
